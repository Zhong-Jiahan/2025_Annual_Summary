<!-- Chosen Palette: "Paper & Ink" - Warm Stone/Paper backgrounds (stone-50), Ink text (stone-800), with emotional accents: Sunset Orange (orange-300), Sakura Pink (rose-300), Deep Sea Blue (cyan-900), and Storm Grey (slate-600). -->

<!-- Application Structure Plan: 
    1.  **Prologue (Hero Section):** A "Envelope" style opening. The user "opens" the letter to begin the journey.
    2.  **Dashboard of Emotions (Data Viz):** Before diving into the text, a high-level visual summary of the year's emotional trajectory using Chart.js. This sets the analytical context for the prose.
    3.  **The Narrative Scroll (The Letters):** The core content is divided into 5 chronological chapters. 
        -   **Structure:** A split-view or centered column design where text is paired with an interactive "Memento".
        -   **Mementos:** HTML/CSS replications of objects mentioned (e.g., a train ticket for Japan, a pixel-art style block for Terraria, a window frame for the library).
        -   **Interaction:** Users scroll to trigger fade-ins. Clicking specific keywords triggers "Footnotes" or small data tooltips.
    4.  **Interactive Elements:**
        -   "Emotional Seismograph": A line chart tracking mood.
        -   "Memory Composition": A polar area chart categorizing the types of memories (Travel, Struggle, Peace, Chaos).
    5.  **Epilogue:** A footer with a final reflection and a "Replay" button.
    
    *Rationale:* This structure balances the "Love Letter" aesthetic with the requirement for data visualization and interactivity. It transforms a linear text into a multimedia scrapbook.
-->

<!-- Visualization & Content Choices:
    1.  **Emotional Trajectory (Line Chart):** -   *Goal:* Visualize the ups and downs described in the text (e.g., January nostalgia vs. February collapse vs. April peace).
        -   *Method:* Chart.js Line Chart with smooth curves (tension).
        -   *Interaction:* Hovering points reveals specific quotes from that month.
    2.  **The Composition of 2025 (Doughnut Chart):**
        -   *Goal:* Quantify the qualitative focus of the year (Travel, Study, Introspection, Chaos).
        -   *Method:* Chart.js Doughnut.
        -   *Justification:* Provides a quick "at a glance" summary of where time/energy went.
    3.  **Migration Path (Stylized List/Timeline):**
        -   *Goal:* Show the movement mentioned (Home -> Japan -> HK -> Shenzhen -> Huizhou).
        -   *Method:* Vertical HTML/CSS Timeline with Unicode icons.
        -   *Interaction:* Hover effects to highlight the specific month in the main text.
    4.  **Visual Mementos (HTML/CSS):**
        -   *Goal:* Replace images (no raster/SVG allowed) with coded art.
        -   *Method:* extensive use of CSS borders, shadows, and gradients to create "paper" artifacts (tickets, polaroids, windows).
-->

<!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2025：一封给时光的情书</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;400;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <style>
        body {
            font-family: 'Noto Serif SC', serif;
            background-color: #f5f5f4; /* stone-100 */
            color: #292524; /* stone-800 */
            overflow-x: hidden;
        }
        
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e7e5e4;
        }
        ::-webkit-scrollbar-thumb {
            background: #a8a29e;
            border-radius: 4px;
        }

        .serif-en {
            font-family: 'Playfair Display', serif;
        }

        /* Animation Classes */
        .fade-in-section {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s ease-out, transform 1s ease-out;
            will-change: opacity, visibility;
        }
        .fade-in-section.is-visible {
            opacity: 1;
            transform: none;
        }

        .paper-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06), 0 20px 25px -5px rgba(0, 0, 0, 0.05);
        }

        /* Chart Container Specifics */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Texture overlay for paper effect */
        .texture-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            opacity: 0.4;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100' height='100' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
            z-index: 50;
        }

        .highlight-text {
            background: linear-gradient(120deg, #fecdd3 0%, #fecdd3 100%);
            background-repeat: no-repeat;
            background-size: 100% 0.2em;
            background-position: 0 88%;
            transition: background-size 0.25s ease-in;
            cursor: pointer;
        }
        .highlight-text:hover {
            background-size: 100% 88%;
        }

        /* Typewriter Cursor */
        .typing-cursor::after {
            content: '|';
            animation: blink 1s step-start infinite;
        }
        @keyframes blink { 50% { opacity: 0; } }
    </style>
</head>
<body class="antialiased">

    <div class="texture-overlay"></div>

    <!-- Intro Section -->
    <header class="min-h-screen flex flex-col justify-center items-center text-center p-8 relative overflow-hidden bg-stone-100">
        <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-orange-300 via-rose-300 to-slate-400"></div>
        
        <div class="z-10 max-w-2xl fade-in-section is-visible">
            <p class="text-stone-500 serif-en italic text-lg mb-4">To: The Future Me</p>
            <h1 class="text-5xl md:text-7xl font-bold mb-6 text-stone-800 tracking-tight">二〇二五</h1>
            <h2 class="text-2xl md:text-3xl text-stone-600 font-light mb-12">聚散 · 风暴 · 岛屿</h2>
            
            <div class="w-16 h-1 bg-stone-300 mx-auto mb-12"></div>

            <p class="text-lg leading-relaxed text-stone-600 mb-8 max-w-lg mx-auto">
                它不是一段激昂的乐章，而是一首由无数个微小瞬间编织成的散文诗。<br>
                <span class="text-sm mt-4 block text-stone-400">下滑开启回忆</span>
            </p>
            
            <div class="animate-bounce text-stone-400 mt-8">
                ↓
            </div>
        </div>
    </header>

    <!-- Dashboard Section -->
    <section class="py-20 px-4 md:px-8 bg-white" id="dashboard">
        <div class="max-w-6xl mx-auto">
            <div class="mb-12 text-center fade-in-section">
                <h3 class="text-2xl font-bold mb-4 serif-en">The Emotional Seismograph</h3>
                <p class="text-stone-500 max-w-2xl mx-auto">
                    在阅读具体的文字之前，让我们先俯瞰这一年的心绪起伏。数据捕捉了那些隐藏在散文诗背后的频率——从一月的惆怅到四月的宁静，再到深秋的风暴与最终的释然。
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
                <!-- Chart 1: Emotional Journey -->
                <div class="bg-stone-50 p-6 rounded-lg paper-shadow border border-stone-100 fade-in-section">
                    <h4 class="text-center mb-4 text-stone-600 text-sm tracking-widest uppercase">年度心绪波动图</h4>
                    <div class="chart-container">
                        <canvas id="emotionChart"></canvas>
                    </div>
                </div>

                <!-- Chart 2: Memory Composition -->
                <div class="bg-stone-50 p-6 rounded-lg paper-shadow border border-stone-100 fade-in-section">
                    <h4 class="text-center mb-4 text-stone-600 text-sm tracking-widest uppercase">记忆成分分析</h4>
                    <div class="chart-container">
                        <canvas id="compositionChart"></canvas>
                    </div>
                    <div class="mt-6 text-center">
                        <div class="flex flex-wrap justify-center gap-4 text-xs text-stone-500">
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-orange-200 mr-2"></span>离别与喧嚣</span>
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-rose-200 mr-2"></span>治愈与行走</span>
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-slate-300 mr-2"></span>压力与风暴</span>
                            <span class="flex items-center"><span class="w-3 h-3 rounded-full bg-stone-300 mr-2"></span>独处与安宁</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Main Content: The Letters -->
    <main class="max-w-5xl mx-auto">

        <!-- Chapter 1: January -->
        <section class="py-24 px-6 md:px-12 border-l-2 border-orange-200 ml-4 md:ml-0 relative fade-in-section">
            <div class="absolute -left-[9px] top-24 w-4 h-4 bg-orange-300 rounded-full border-4 border-white"></div>
            <div class="grid md:grid-cols-2 gap-12">
                <div>
                    <span class="text-orange-400 font-bold tracking-widest text-sm uppercase mb-2 block">Chapter 01 · Prologue</span>
                    <h2 class="text-3xl font-bold text-stone-800 mb-6">火光与聚散</h2>
                    <div class="prose prose-stone text-lg leading-loose text-stone-600">
                        <p>岁首的一月，我依然无可救药地迷恋着晚霞。二〇二五年的开端，是整片被揉碎了的橘红色天空，那样浓稠，又那样寂寥。</p>
                        <p>回到老家时，正值旧岁与新年的交替。烟花在漆黑的墨色中炸裂开来，那是极尽喧嚣的五颜六色，却在最盛大的时刻，拖着长长的尾迹，缓缓地、认命般地隐身于虚无。</p>
                        <p>我想，<span class="highlight-text" data-note="毕业季的隐喻">毕业季的我们</span>，大约也就是这些火光吧。曾经聚在一起，在这沉重如铁的夜空里迸发出一场名为“青春”的幻象，随后便各散西东。</p>
                    </div>
                </div>
                <!-- Interactive Artifact: The Firework Card -->
                <div class="flex items-center justify-center">
                    <div class="w-full max-w-xs bg-stone-800 p-6 rounded shadow-xl text-center relative overflow-hidden group hover:scale-105 transition-transform duration-500 cursor-pointer" onclick="updateNote('烟花易冷，但那一瞬的光热足以慰藉余生。')">
                        <div class="absolute inset-0 bg-gradient-to-t from-black via-transparent to-transparent opacity-80"></div>
                        <!-- CSS Firework simulation -->
                        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-2 h-2 bg-orange-400 rounded-full shadow-[0_0_20px_10px_rgba(251,146,60,0.5)] group-hover:scale-[10] group-hover:opacity-0 transition-all duration-1000"></div>
                        <div class="relative z-10 text-orange-100 mt-20">
                            <h3 class="text-2xl font-serif mb-2">Jan. 2025</h3>
                            <p class="text-xs tracking-widest uppercase opacity-70">The Last Reunion</p>
                            <div class="mt-8 border-t border-orange-900 pt-4 text-orange-200 text-sm italic">
                                "去往各自的人生里发光发热"
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chapter 2: Spring -->
        <section class="py-24 px-6 md:px-12 border-l-2 border-rose-200 ml-4 md:ml-0 relative fade-in-section">
            <div class="absolute -left-[9px] top-24 w-4 h-4 bg-rose-300 rounded-full border-4 border-white"></div>
            <div class="grid md:grid-cols-2 gap-12">
                <div class="order-2 md:order-1 flex items-center justify-center">
                    <!-- Interactive Artifact: Ticket to Kobe -->
                    <div class="bg-white p-0 rounded-lg shadow-lg w-full max-w-sm border-l-8 border-rose-300 overflow-hidden hover:rotate-2 transition-transform duration-300">
                        <div class="p-6 border-b border-dashed border-stone-200 flex justify-between items-center bg-rose-50">
                            <div>
                                <span class="block text-xs text-stone-400 uppercase">Boarding Pass</span>
                                <span class="text-2xl font-bold text-stone-800">TOKYO</span>
                            </div>
                            <div class="text-stone-400">✈</div>
                            <div class="text-right">
                                <span class="block text-xs text-stone-400 uppercase">Destination</span>
                                <span class="text-2xl font-bold text-rose-600">KOBE</span>
                            </div>
                        </div>
                        <div class="p-6 bg-white">
                            <div class="flex justify-between mb-4">
                                <div>
                                    <span class="block text-xs text-stone-400">Date</span>
                                    <span class="font-mono text-stone-700">APR 2025</span>
                                </div>
                                <div>
                                    <span class="block text-xs text-stone-400">Mood</span>
                                    <span class="font-mono text-stone-700">Peaceful</span>
                                </div>
                            </div>
                            <p class="text-sm text-stone-500 italic border-l-2 border-stone-200 pl-3">
                                "海与半山腰的神社交织出的静谧"
                            </p>
                        </div>
                    </div>
                </div>
                <div class="order-1 md:order-2">
                    <span class="text-rose-400 font-bold tracking-widest text-sm uppercase mb-2 block">Chapter 02 · Mid-Spring</span>
                    <h2 class="text-3xl font-bold text-stone-800 mb-6">崩溃与不期而至的旅程</h2>
                    <div class="prose prose-stone text-lg leading-loose text-stone-600">
                        <p>二月的寒意还未散尽，现实的琐碎便如细雨般打落在身上。当 <span class="font-mono bg-stone-200 px-1 rounded text-sm">ANSYS</span> 在屏幕上毫无征兆地崩溃时，我只是对着那片僵死的冰冷，无奈地摆了摆手。</p>
                        <p>好在，春天是慈悲的。我不喜那百花争艳的嘈杂，却独独中意樱花的优雅。这种花开得极其郑重，仿佛是神灵遗落在人间的呼吸。</p>
                        <p>四月的日本之行，更像是一场对灵魂的抚慰。从关西到关东，电车摇晃着穿过一个又一个城市。我最心醉的，不是繁华的东京，而是<span class="highlight-text" data-note="神户的静谧治愈了二月的焦虑">神户</span>。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chapter 3: Summer -->
        <section class="py-24 px-6 md:px-12 border-l-2 border-green-200 ml-4 md:ml-0 relative fade-in-section">
            <div class="absolute -left-[9px] top-24 w-4 h-4 bg-green-300 rounded-full border-4 border-white"></div>
            <div class="grid md:grid-cols-2 gap-12">
                <div>
                    <span class="text-green-500 font-bold tracking-widest text-sm uppercase mb-2 block">Chapter 03 · Midsummer</span>
                    <h2 class="text-3xl font-bold text-stone-800 mb-6">终曲与迁徙</h2>
                    <div class="prose prose-stone text-lg leading-loose text-stone-600">
                        <p>五月的时光是属于《泰拉瑞亚》的。这种从小学玩到大学的游戏，像是一处永恒的避难所，像素块的搭建中，流逝的是无需向世界交代的纯真。</p>
                        <p>六月，我毕业了。在“世界青年”的收官场上，我意识到，那个可以肆意做梦的时代，真的要落幕了。</p>
                        <p>八月的香港，将我塞进了一个五平方米的小房间。虽然逼仄，我却在<span class="highlight-text" data-note="图书馆：异乡的锚点">图书馆</span>寻得了一扇窗。窗外的风景极好，也是我在异乡锚定的第一个坐标。</p>
                    </div>
                </div>
                <!-- Interactive Artifact: The Window View -->
                <div class="flex items-center justify-center">
                    <div class="relative w-64 h-80 bg-stone-200 rounded-t-full border-8 border-stone-700 overflow-hidden shadow-inner group">
                        <!-- Simulated Window View using CSS Gradients -->
                        <div class="absolute inset-0 bg-gradient-to-b from-blue-300 to-stone-100 group-hover:from-blue-400 group-hover:to-stone-200 transition-colors duration-1000"></div>
                        <!-- City Skyline Silhouette -->
                        <div class="absolute bottom-0 left-0 right-0 h-32 bg-stone-800 opacity-20 transform translate-y-4"></div>
                        <div class="absolute bottom-0 left-10 w-12 h-40 bg-stone-800 opacity-20"></div>
                        <div class="absolute bottom-0 right-10 w-16 h-24 bg-stone-800 opacity-20"></div>
                        
                        <!-- Rain effect (implied via lines) -->
                        <div class="absolute inset-0 opacity-0 group-hover:opacity-30 transition-opacity duration-700" style="background-image: repeating-linear-gradient(45deg, transparent, transparent 10px, #fff 10px, #fff 11px);"></div>

                        <div class="absolute bottom-4 left-0 w-full text-center">
                            <span class="text-white text-xs font-serif italic drop-shadow-md">The Library Window</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chapter 4: Autumn -->
        <section class="py-24 px-6 md:px-12 border-l-2 border-slate-300 ml-4 md:ml-0 relative fade-in-section">
            <div class="absolute -left-[9px] top-24 w-4 h-4 bg-slate-400 rounded-full border-4 border-white"></div>
            <div class="grid md:grid-cols-2 gap-12">
                <div class="order-2 md:order-1 flex items-center justify-center">
                    <!-- Interactive Artifact: The Storm/Book Card -->
                    <div class="bg-slate-800 text-stone-300 p-8 rounded shadow-2xl max-w-sm w-full relative">
                        <div class="absolute top-0 left-0 w-full h-2 bg-yellow-600"></div>
                        <h4 class="text-xl font-bold text-white mb-4 flex justify-between">
                            <span>Typhoon Signal</span>
                            <span>No. 8</span>
                        </h4>
                        <div class="space-y-4 text-sm font-mono border-t border-slate-600 pt-4">
                            <div class="flex justify-between">
                                <span>Status:</span>
                                <span class="text-yellow-400">ISOLATED</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Location:</span>
                                <span>5m² Room</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Activity:</span>
                                <span>Cooking / Thinking</span>
                            </div>
                        </div>
                        <div class="mt-8 pt-4 border-t border-slate-600">
                            <p class="text-xs italic opacity-60">Escape Route:</p>
                            <p class="font-serif text-lg text-white mt-1">Shenzhen Bookstore & Tea</p>
                        </div>
                    </div>
                </div>
                <div class="order-1 md:order-2">
                    <span class="text-slate-500 font-bold tracking-widest text-sm uppercase mb-2 block">Chapter 04 · Deep Autumn</span>
                    <h2 class="text-3xl font-bold text-stone-800 mb-6">风暴与内心的岛屿</h2>
                    <div class="prose prose-stone text-lg leading-loose text-stone-600">
                        <p>九月的台风“桦加沙”是凶猛的。那一晚，我死死守在窗台边，听着窗外狂风如困兽般的咆哮。</p>
                        <p>十月的独立项目，是一场与自我的博弈。十一月的香港万圣节，那涌动的人潮虽然热烈，却让我感到一种莫名的抽离。</p>
                        <p>我不时<span class="highlight-text" data-note="深圳：生活的质感与喘息">逃往深圳</span>，在西西弗的书茶香里，在费大厨的烟火气中，重新找回了一点生活的质感。</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Chapter 5: Winter -->
        <section class="py-24 px-6 md:px-12 border-l-2 border-indigo-200 ml-4 md:ml-0 relative fade-in-section">
            <div class="absolute -left-[9px] top-24 w-4 h-4 bg-indigo-300 rounded-full border-4 border-white"></div>
            <div class="grid md:grid-cols-2 gap-12">
                <div>
                    <span class="text-indigo-400 font-bold tracking-widest text-sm uppercase mb-2 block">Chapter 05 · Epilogue</span>
                    <h2 class="text-3xl font-bold text-stone-800 mb-6">彩灯与海</h2>
                    <div class="prose prose-stone text-lg leading-loose text-stone-600">
                        <p>岁末十二月，学校门口的三棵大树不知何时挂满了彩灯。猛然撞见那一树荧荧火光，在寒夜里竟显出几分妖冶的惊心动魄。</p>
                        <p>学期结束后的惠州小径湾之旅，海浪依旧无休无止地拍打着岸边。尽管我生性不喜欢沙子沾染皮肤的触感，但那片海，终究是温柔的。</p>
                        <p class="font-bold mt-8 text-stone-800">二〇二五年，就这样在聚散、风暴与海浪间悄然阖上。</p>
                    </div>
                </div>
                 <!-- Interactive Artifact: The Sea Lamp -->
                 <div class="flex items-center justify-center">
                    <div class="w-40 h-40 rounded-full bg-indigo-900 relative shadow-2xl flex items-center justify-center overflow-hidden animate-pulse">
                        <div class="absolute inset-0 bg-indigo-500 opacity-20 rounded-full animate-ping"></div>
                        <div class="text-center z-10 p-4">
                            <div class="text-indigo-100 text-3xl font-serif">End.</div>
                            <div class="text-indigo-300 text-xs mt-1">and Begin.</div>
                        </div>
                        <!-- Sea waves effect -->
                        <div class="absolute bottom-0 w-full h-12 bg-indigo-800 opacity-50 rounded-b-full"></div>
                        <div class="absolute bottom-0 w-full h-8 bg-indigo-700 opacity-50 rounded-b-full"></div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer / Interaction Zone -->
    <footer class="bg-stone-800 text-stone-300 py-16 text-center">
        <div class="max-w-2xl mx-auto px-6">
            <h3 class="text-2xl font-serif mb-6 text-white">To 2026</h3>
            <p class="mb-8 font-light leading-relaxed opacity-80">
                "青春的幻象已隐身于虚无，但我们在各自的人生里，正开始发光发热。"
            </p>
            
            <div id="dynamic-note" class="h-12 text-orange-300 italic font-serif transition-all duration-500">
                <!-- Notes from interactions appear here -->
                点击文中的高亮部分，唤醒记忆...
            </div>

            <button onclick="window.scrollTo({top: 0, behavior: 'smooth'})" class="mt-8 border border-stone-600 px-6 py-2 rounded-full hover:bg-stone-700 transition-colors text-sm">
                Restart The Journey ↑
            </button>
            
            <div class="mt-12 text-xs text-stone-600">
                Designed for the Memory of 2025
            </div>
        </div>
    </footer>

    <!-- JavaScript Implementation -->
    <script>
        // --- 1. Animation Observer ---
        // Handles the fade-in effect as the user scrolls down
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in-section').forEach(section => {
            observer.observe(section);
        });

        // --- 2. Chart.js Implementation ---

        // Chart 1: Emotional Trajectory (Line Chart)
        const emotionCtx = document.getElementById('emotionChart').getContext('2d');
        const emotionChart = new Chart(emotionCtx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: 'Emotional Intensity',
                    data: [60, 20, 40, 85, 70, 50, 45, 30, 25, 40, 65, 80], // Data interpreted from text
                    borderColor: 'rgba(251, 146, 60, 0.8)', // Orange-400
                    backgroundColor: 'rgba(251, 146, 60, 0.1)',
                    borderWidth: 2,
                    tension: 0.4, // Smooth curves
                    pointBackgroundColor: '#fff',
                    pointBorderColor: 'rgba(251, 146, 60, 1)',
                    pointRadius: 4,
                    pointHoverRadius: 6,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false },
                    tooltip: {
                        backgroundColor: '#fff',
                        titleColor: '#44403c',
                        bodyColor: '#78716c',
                        borderColor: '#e7e5e4',
                        borderWidth: 1,
                        padding: 10,
                        callbacks: {
                            label: function(context) {
                                const moods = [
                                    "Nostalgic (Firelight)", 
                                    "Stressed (Collapse)", 
                                    "Hopeful (Recovery)", 
                                    "Peaceful (Kobe)", 
                                    "Playful (Terraria)", 
                                    "Melancholy (Graduation)", 
                                    "Anxious (Migration)", 
                                    "Constrained (5m² Room)", 
                                    "Isolated (Typhoon)", 
                                    "Struggling (Project)", 
                                    "Relieved (Shenzhen)", 
                                    "Reflective (Lights & Sea)"
                                ];
                                return moods[context.dataIndex];
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        display: false // Hide Y axis for cleaner look
                    },
                    x: {
                        grid: { display: false },
                        ticks: { font: { family: "'Noto Serif SC', serif" } }
                    }
                }
            }
        });

        // Chart 2: Memory Composition (Doughnut Chart)
        const compositionCtx = document.getElementById('compositionChart').getContext('2d');
        const compositionChart = new Chart(compositionCtx, {
            type: 'doughnut',
            data: {
                labels: ['离别 (Parting)', '治愈 (Healing)', '风暴 (Storm)', '独处 (Solitude)'],
                datasets: [{
                    data: [25, 30, 20, 25],
                    backgroundColor: [
                        'rgba(253, 186, 116, 0.6)', // Orange (Jan/Graduation)
                        'rgba(253, 164, 175, 0.6)', // Pink (Japan/Cherry Blossoms)
                        'rgba(148, 163, 184, 0.6)', // Slate (Typhoon/Work)
                        'rgba(214, 211, 209, 0.6)'  // Stone (Library/Room)
                    ],
                    borderColor: '#fafaf9',
                    borderWidth: 2,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { display: false }, // Custom legend used in HTML
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return ` ${context.label}: ${context.raw}%`;
                            }
                        }
                    }
                },
                layout: {
                    padding: 20
                }
            }
        });

        // --- 3. Interaction Logic ---
        
        // Handle Highlight Text clicks to update the footer note
        const highlights = document.querySelectorAll('.highlight-text');
        const noteDisplay = document.getElementById('dynamic-note');

        highlights.forEach(el => {
            el.addEventListener('click', () => {
                const note = el.getAttribute('data-note');
                updateNote(note);
            });
        });

        function updateNote(text) {
            noteDisplay.style.opacity = '0';
            setTimeout(() => {
                noteDisplay.textContent = text;
                noteDisplay.style.opacity = '1';
            }, 300);
        }

        // Add visual ripple effect on click anywhere (optional polish)
        document.addEventListener('click', function(e) {
            const ripple = document.createElement('div');
            ripple.className = 'absolute rounded-full bg-stone-400 opacity-20 pointer-events-none transform -translate-x-1/2 -translate-y-1/2';
            ripple.style.width = '20px';
            ripple.style.height = '20px';
            ripple.style.left = e.pageX + 'px';
            ripple.style.top = e.pageY + 'px';
            document.body.appendChild(ripple);

            // Animate
            const animation = ripple.animate([
                { width: '20px', height: '20px', opacity: 0.2 },
                { width: '100px', height: '100px', opacity: 0 }
            ], {
                duration: 500,
                easing: 'ease-out'
            });

            animation.onfinish = () => ripple.remove();
        });

    </script>
</body>
</html>